\documentclass{beamer}

\usepackage{fancyvrb}
\usepackage{stmaryrd}

\DefineVerbatimEnvironment{code}{Verbatim}{fontsize=\small}
\DefineVerbatimEnvironment{example}{Verbatim}{fontsize=\small}
\newcommand{\ignore}[1]{}

\mode<presentation>
{ \usetheme{Antibes} }

\title{A Monad-based, Lazy, Purely Functional Subjective Logic Combinator Library}

\author{Bryan St. Amour}


% The following will inject the table of contents with the current section
% highlighted between each section.

%\AtBeginSection[]
%{
%  \begin{frame}<beamer>
%  \frametitle{Outline}
%  \tableofcontents[currentsection]
%  \end{frame}
%}

\begin{document}

%===============================================================================
%
% Front matter.
%
%===============================================================================

\begin{frame}
\titlepage
\end{frame}

\begin{frame}

Thesis committee

\begin{itemize}
  \item \emph{Advisor:} Dr. Robert Kent
  \item \emph{Internal Reader:} Dr. Richard Frost
  \item \emph{External Reader:} Dr. Rick Caron (Math/Stats)
\end{itemize}

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\tableofcontents
\end{frame}

%-------------------------------------------------------------------------------

%===============================================================================
%
% Thesis intro.
%
%===============================================================================

\section{Introduction}

\begin{frame}
\frametitle{Introduction - Decision Support}

Decision support systems are systems that support decision making
through the use of analytics, modelling, etc \cite{sprague_framework_1980}.

Example application areas include

\begin{itemize}
  \item Clinical \cite{berner2007clinical}
  \item Business \cite{klein_knowledge-based}
  \item Health and Safety \cite{kent2010application}
\end{itemize}

\end{frame}

%===============================================================================
%
% Introduction to Subjective Logic
%
%===============================================================================

\section{Subjective Logic}

\begin{frame}
\frametitle{Subjective Logic}

Subjective Logic is a probablistic logic for uncertain reasoning
\cite{josang_logic_2001}.

Basic object is the subjective opinion, defined over a frame of discernment.
Opinions come in three flavours:

\begin{itemize}
  \item Binomial opinions
  \item Multinomial opinions
  \item Hyper opinions \cite{josang2012interpretation}. Also known simply as
    \emph{Subjective opinions}.
\end{itemize}

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Subjective Logic}

Has some similarities with \emph{Dempster-Shafer Theory} (cite).

% TODO: More details here.

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Frame of Discernment}

A set of atomic entities

$$\Theta = \lbrace Red, Blue, Green, Yellow \rbrace$$

Effectively, the universe of discourse.

We define opinions over subsets of $\Theta$.

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Binomial Opinions}

Given a binary frame $\Theta = \lbrace x, \lnot x \rbrace$, we can define a
\emph{binomial opinion} of $x$.

$$\omega_{x}^A = \langle b_x, d_x, u_x, a_x \rangle$$

satisfying $b_x + d_x + u_x = 1$, and $0 \leq a_x \leq 1$.

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Binomial Opinions}

Can be mapped to \emph{Beta distributions} using the following relations:

$$
\begin{array}{l}
  b = \frac{r}{W + r + s} \\
  d = \frac{s}{W + r + s} \\
  u = \frac{W}{W + r + s}
\end{array}
$$

where $\omega_x = \langle b, d, u, a\rangle$ and $\mbox{Beta}(p | r, s, a)$
are defined over the same proposition $x$.

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Binomial Opinions}

For example...

$$\Theta = \lbrace Red, \lnot Red \rbrace$$

$$\omega_{Red}^{Bryan} = \langle 0.5, 0.4, 0.1, 0.5 \rangle$$

... maybe I'm colour-blind?

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Binomial Opinions}

We can also construct binomial opinions over a subset of a frame $\Theta$
through \emph{coarsening}.


\end{frame}



%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Multinomial Opinions}

For larger frames ($|\Theta| > 2$) we define \emph{multinomial opinions}.

$$ \omega_\Theta^A = \langle \vec{b}, u, \vec{a} \rangle $$

such that

$$u + \sum_{x \in \Theta} \vec{b}(x) = 1$$

and

$$\sum_{x\in \Theta} \vec{a}(x) = 1$$

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Multinomial Opinions}

Can be mapped to \emph{Dirichlet distributions}

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Hyper Opinions}

Most general of all subjective opinions. Assigns belief mass to subsets of the
frame (elements of the reduced powerset.)

Reduced powerset: $R^\Theta = 2^\Theta \backslash \lbrace \emptyset, \Theta \rbrace$

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Hyper Opinions}

Can be mapped to \emph{Hyper-dirichlet distributions}.

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Hyper Opinions}

e.g.

$$\Theta = \lbrace Red, Blue, Yellow \rbrace$$

$$\omega = \langle \vec{b}, u, \vec{a} \rangle$$
$$\vec{b}\left(\lbrace Red, Blue \rbrace \right) = \frac{1}{2}$$
$$\vec{b}\left(\lbrace Blue, Yellow \rbrace \right) = \frac{1}{4}$$
$$\vec{b}\left(\lbrace Yellow \rbrace \right) = \frac{1}{8}$$

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Hyper Opinions}

Similar to multinomial opinions, rules apply

$$u + \sum_{x \in R^\Theta} \vec{b}\left(x\right) = 1$$

$$\sum_{x \in R^\Theta} \vec{a}\left(x\right) = 1$$

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Benefts}

\begin{itemize}
  \item Wealth of operators for working with beliefs
     \footnote{\url{http://folk.uio.no/josang/papers/subjective_logic.pdf}}
  \item Beta, Dirichlet, Hyper-dirichlet interpretations
  \item Easy to model many situations
    \cite{josang2008conditional}, \cite{josang2006trust}, \cite{kent2010application}
\end{itemize}

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Drawbacks}

\begin{itemize}
  \item No widely available frameworks/toolkits/libraries!
\end{itemize}

There exists an online demo\footnote{\url{http://folk.uio.no/josang/sl/BV.html}},
but we cannot find any other published implementations.

\end{frame}

%===============================================================================
%
% Research focus + thesis statement.
%
%===============================================================================

\section{Thesis Statement}

\begin{frame}
\frametitle{Thesis Statement}

Is it possible to construct a \emph{lazy, purely functional combinator library} for Subjective
Logic using \emph{monads}?

\begin{itemize}
  \item \emph{Lazy:} Only compute what's necessary. Memoize large computations. Based
    on \emph{Graph Reduction}.
  \item \emph{Purely Functional:} Computations are functions in the mathematical sense.
    No side effects. Based on \emph{$\lambda$-calculus}.
  \item \emph{Combinators:} All expressions are built from a small set of operators that
    can be combined through function application.
  \item \emph{Monads:} Mathematical objects from \emph{Category Theory}. Have gained
    popularity in Functional Programming for controlling effects (cite).
\end{itemize}

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Research Objectives}

Through our research we expect to achieve the following objectives.

\begin{itemize}
  \item Implement all Subjective Logic operators as currently published by Josang
    using the \emph{Haskell} programming language.
  \item Perform a complexity analysis on the operators. Perhaps discover more efficient
    methods for implementation.
  \item Prove that the operators terminate for all finite inputs.
\end{itemize}

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Research Objectives}

Furthermore, we hope to demonstrate the effectiveness of our combinator
library by

\begin{itemize}
  \item Developing a reasoning application which uses our combinators as an
    external library.
  \item Develop a front-end so that our combinators may communicate
    with an external web application.
  \item Experiment with possible extensions of Subjective Logic.
\end{itemize}

\end{frame}

%===============================================================================
%
% What the hell are monads?
%
%===============================================================================

\section{Monads}

\begin{frame}
\frametitle{Monads}

A monad, formally, is a special kind of \emph{functor} from Category Theory \cite{mac1998categories}. In
practice, it is a \emph{data type} M with the following operations \cite{Wadler:1992:EFP:143165.143169}:

\begin{itemize}
  \item $\mbox{unitM :: } \alpha \rightarrow \mbox{M } \alpha$.
  \item $\mbox{bindM :: } \mbox{M } \alpha \rightarrow \left(\alpha \rightarrow \mbox{M } \beta\right) \rightarrow \mbox{M } \beta$
\end{itemize}

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]
\frametitle{Examples}

An \emph{optional} data type: either contains a value or does not.

\begin{code}
data Optional a = Value a | Nothing

instance Monad Optional where
  return x = Value x        -- unitM

  Nothing   >>= f = Nothing -- bindM
  (Value x) >>= f = f x
\end{code}

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]
\frametitle{Examples}

Example usage:

\begin{code}
safeDivide :: Int -> Int -> Optional Int
safeDivide x 0 = Nothing
safeDivide x y = x / y

result = safeDivide a b >>= safeDivide c
                        >>= safeDivide d
\end{code}

If any of the above fails, then entire computation fails.

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]
\frametitle{Examples}

Another example: carrying around \emph{state}

\begin{code}
data State s a = State { unState :: s -> (s, a) }

instance Monad (State s) where
  return x = State (\_ -> x)
  sa >>= f = State (\st -> let (st', a)  = unState sa st
                               sb        = f a
                               (st'', b) = unState sb st'
                           in b)
\end{code}

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]
\frametitle{Monad Laws}

Any type M that has a monadic instance should also abide by the following
laws.

\begin{itemize}
  \item \emph{Left unit:}
    \begin{code}
      return x >>= k = k x
    \end{code}

  \item \emph{Right unit:}
    \begin{code}
      m >>= return = m
    \end{code}

  \item \emph{Associativity:}
    \begin{code}
      m >>= (\x -> (k x) >>= h)
        = (m >>= (\x -> (k x)) >>= h)
    \end{code}

\end{itemize}

\end{frame}

%-------------------------------------------------------------------------------

%\begin{frame}
%\frametitle{Other Examples}

%Other examples of monads include

%\begin{itemize}
%  \item
%\end{itemize}

%\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{Why Monads?}

We propose to use monads for two reasons:

\begin{itemize}
  \item \emph{Error propogation:} If any sub expression fails, we carry the
    error to the top, curtailing further computations.
  \item \emph{Carrying around state:} The state monad allows us to carry state
    (belief mass assignments, base rates, etc) throughout our operators implicitly.
\end{itemize}

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]
\frametitle{Why Monads?}

Error reporting:

\begin{code}
data SLValue a = SLValue a | SLError String
instance Monad SLValue where
  return x = SLValue x
  (SLValue x) >>= f = f x
  (SLError s) >>= _ = SLError s
\end{code}

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]
\frametitle{Why Moands?}

Carrying state:

\begin{code}
data SLStateObj = SLStateObj {
  massAssignment :: BeliefMassAssignment,
  baseRate       :: BaseRate
}
type SLState a = State SLStateObj a
\end{code}

Here we use a pre-packaged \emph{State Monad} to avoid re-inventing any wheels.
\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}[fragile]
\frametitle{Subjective Logic Operators}

Now, operators can be defined like the following:

\begin{code}
(<+>) :: SLState Opinion -> SLState Opinion -> SLState Opinion
op1 <+> op2 = -- details omitted

(<*>) :: SLState Opinion -> SLState Opinion -> SLState Opinion
op1 <*> op2 = -- details omitted

eqn :: SLState Opinion
eqn = (op1 <*> op2) <+> (op1 <*> op3) <+> ... <+> (op1 <*> opN)

result = runSL eqn mass baseRate -- run the equation...
\end{code}

\end{frame}

%===============================================================================
%
% How far along are we toward completion of the work?
%
%===============================================================================

\section{Current Progress / Roadmap Toward Completion}

\begin{frame}
\frametitle{Library Implementation}

So far we have implemented the core structures of Subjective Logic:

\begin{itemize}
  \item Subjective opinions: binomial, multinomial and hyper.
  \item The monads from which we will be constructing our operator set.
  \item Basic operators between opinions.
\end{itemize}

\end{frame}

%-------------------------------------------------------------------------------

\begin{frame}
\frametitle{What's Left?}

\begin{itemize}
  \item Remaining operators.
  \item Complexity analysis of the operators.
  \item Proofs of termination.
  \item Demo applications.
\end{itemize}

\end{frame}

%===============================================================================
%
% Close it off.
%
%===============================================================================

\section{Conclusion}

\begin{frame}
\frametitle{Conclusion}

Subjective Logic is a fairly new, powerful logic for uncertain reasoning. The lack
of tooling, however, is an issue that needs to be overcome.

We propose to develop a comprehensive library of operators, alongside an analysis of
of complexity, and proofs of termination.

In addition we propose to develop a set of demo applications to display the flexibility
of our library.
\end{frame}


%===============================================================================
%
% Citations.
%
%===============================================================================

\section{References}

\begin{frame}[allowframebreaks]
\frametitle{References}

\bibliographystyle{plain}
\bibliography{bibliography}

\end{frame}

%-------------------------------------------------------------------------------

\end{document}
